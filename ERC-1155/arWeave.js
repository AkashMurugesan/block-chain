const Arweave = require("arweave");
const fs = require("fs");

// If you want to connect directly to a node
const arweave = Arweave.init({
  host: "127.0.0.1",
  port: 1984,
  protocol: "http",
});

async function a() {
  const key = {
    kty: "RSA",
    n: "3WSrxLqHZy0PxZkb5FL2BdSxOOSMYMesXircfanpwzgkgccYtsiuwi9fQwPcvbg8M_9RydneuHookjQRtX3o4w4urybZvenIgq-r5gHwzul8s_YoMjAEc4pNmy-wZFnW-my0Z9D7mRyrKiZ0PjBFgnDnvqDxq-et1x5IsYkFqAMG9YgAasHG34jrH3gLA1fWufSitAupmMD2dvCwSv29R_j7MEBJJJOFjdSfGXGrnEwn6pk7uXr_D-bZWQUPXkreX5WD3t96HvWGMkPaoBMG8Sll9jWyoKqAzDkLfGwFYFesI2i7f92QDLffitBEe5knVpE3KNgp9nfMBhiW_BOxjYiYV7rFh-I-ysBP49dxkANU9g8lCLFLSWBqpgp5dVi9svA3yXgEWFDYQzfCMa7UiQ3x6-_wFmCe6w4GotDRIjrS8_EyVodMWhsvTVtKgRjXcoDFtgrynoiqwwmeBZ0eEUqJ4p7dUThM_fTNHqUNOEfQNuru3f2TKBHSTVsZ59lCt3wk56JlbfkUxB5u074gwkl3uZ8fC8jUvypQlkzpZmMQmyJ9yrMeWWVHjrW4LQw98IYZFW_YbHGr_OYYQQpjZb1wHY4GoCBoUxhE0S0H99ABYIE_zjW7d6b7iSqOBPT219Q2HnvrRPS1XjU6OPAkqCCiFNw24U6BIi2O-kRUuRc",
    e: "AQAB",
    d: "NuiG6W3Rszcr2DgXANPKjLupkJCueDpNd7VtpgUEIxTDiSRV7s9q-GJDYB2PG8abt9G0-Tj90gcKFOixE7A8mEOmNG6QRle7ER58pbkJfmfOM9vzMC9Ui0tb4Ac92kWl2cooHC9qlxjTIssSvXG_a5CRCWhlR9tX9Chgoxd2vaqyiSbH47JXno0Ys19Ua-nXKZuQ1tKlp2sENY-QSakQzs7jjZ4EBfxIfVqkcu0MQOFqbPbAJ0poBAufEEL_AsXSzSYJ5LbMVO1T8Rd_G4BckmdQEHZU7SAcfYoQXTV1R-W2nbmV9yp-VYks-gKZWYYsiX3OjmS-U5B2m3Rxzecce6W0E8t6KjmUnp7rA6jsqS8JJo3DVpk4wop2pcnP-oT8bFDqmu6lQ6bHK_dtcD4LwHkqrZccHrwbbwI5mj5Aac5ve8zijOL-PXjRGn-L4udtT3U-0mAMpSpTUocIzr3tblUbICP-RWWjAx0tXeLrhxtE2_49t4AA5i2y3R5xisA3hI8iv8pa3Tlf2es5kQkjYNFNC18lehTjnPOABXzWR1dBY10gHRG4YO9Ywx2_9LQGZV9W3y262P_D8wPn4JzkbxB_0UCtUlkxBVg43ZQILpeD6Seh9GZx7XWVGqQWSgF8DW5xlWy4D668F8JljErUy6ZjGrmh6y_WslNC2UJ8s5E",
    p: "7h3t3Bx65_1TFqbdZwjZppdSXxXTdPxrGMMAd7K6d722N1ntKIkhTJemuZcCDT063oY1Dp93ndvklcC7DeZ1avpfuerT0QzQyptXoNZ39PCshohS2WYI0FeI8TIMI8NIcbzThUuD7Aem8msAzlimU88DgGBQ5DRkirL5aSUa0CHFckxp71d3k_PIJ6mJyTOPMNuBxja0sx8kGzi-MrYTOGnzboCMR8vsiI21LKZ0SImMHNspEyJ493JZSt2x8wVBYNNOECccgqurU7wrxUzNcgJS-15g7dsV34__zIrt4QcC7gpbtcAyLnqO0HF2D0RDW4H7wg2o0BZa9pwblga4Qw",
    q: "7gU1zrDF2s40u47W8Crwc_NyoMCMAlOo9nX3p6oXYQhIXSfjSKSJxCsl6up1eYXw1iG9l8xy6MeTP5hVUgrFxynIN25qpzR4-ywtqXf_YtW_25YAtgWWplS5uj9XtdTv7gpepq7KnzQpHGUHgC8q32-OhznySAPqQ2mflmAiRz4KB_dw3I-ng_NJ-Ou294jXa62AQzzt_shBlOO6SjXHcLIETgg79wBbiqRT97Ys_-I78Bba7ubLxyIQmTLdY1RAceySgAGMpggGuG86kyRNbm5tEckr4W770kdW8tWqcCrxTeJeOLXK8SLcxgECYFbzqqdPTU6JAvBuCfrUxNPonQ",
    dp: "n_5GK2aLgsNpB8hY7Xk53UDB3RfqPCm6wCmOb98MgZZcD_cBbgIt-KvRH9SCUWj53Djq_4dQtSXiAmk8hkt6S8Ytedt6NXXZ-LjF-VEByvfHxKFmoaJ4e5zFa-MH2yPE0n9g1Kh33KkLmMkjAoL4R0nKfYC5-YvmnndBNE_1IzH93B3R9DqeIzBjJZs59JILPXXQTeHGKrDa7tuCmMpUQcyW_4GqQDeaF-q3eGfjrDWXinALukqoYwNXUgGCJts6IZf5VMsi0f4NITdHZcuEI33CShoRIODbYpr78nDLAy9V3aHiG04nqak5un7yJ7HjXGILSkkpS6ApwJgFxRmAxw",
    dq: "SBap4kzlz8xOalPrw1et9eBQ4mEOxpGiBetas5wvcoL4r8Yp71FuLEzJMioKpGCtvZ0AeB5C2z--2C8CAFQk7Jo5-pflk3iv_5q0xbQDVGLatd3rnzV4GC5nBgKzRO4WMOlRG3irA6bfoKr0p50hhgSajVg-ihMte3ddD0VUfHFMxnbp5tNXb_5adBqoEraOUB1_UF3-0wDB5B9Ix7scCYTRCvUxfDDOiOIWUFsLrABQGPpDGsIqC8jEcDHYnYHh9t8oy74sZAjgSDHf8rq2_PBS9mUQdjmP6XMT4X5XHZvT87vQv6pHqdreNNYPazBKonAD860KkCpTmZAvquFnfQ",
    qi: "HiYvIN3c9bwUmP3zdvAS5u3XWRZQQiJ_vSitBTbqe0MZaBFDaEC7txnUPIOjs3HOJgc7uVfvK5r-wLAAmHWfgSrqqg7dO2rzwmPqRemDf63o5dDJC4gtJg69an7QcAG8-0nb31M8tO45zjOOM3bxZYkoBRY-QadnM4ovwEodP6Q7mWqLq2ttxRn-Q8UzQd4sRUu595VsqzLX40qDs1FU-x4EflRPzL1OYryHcYG1zZurDHzmrQGqVirCdy4Swfo8yL3vEAmHNL2L-dDBMvSlgAMbaU0DuHtLpYhk7GynSxdLjegTS-hmtlV4KEkjNR44cMDvDwYt-0VnjXswA5VOGA",
  };
  const address = await arweave.wallets.jwkToAddress(key);
  console.log(address);

  let data = fs.readFileSync("./skin.jpeg");
  let transaction = await arweave.createTransaction({ data: data }, key);

  await arweave.transactions.sign(transaction, key);

  const response = await arweave.transactions.post(transaction);
  console.log(transaction);
}
a();
